---
title: "Leetcode743:ç½‘ç»œå»¶è¿Ÿæ—¶é—´â€”â€”dijkstraç®—æ³•"
author: å­™ç™¾ä¹
date: 2022-04-21T17:35:07+08:00
draft: false
categories: 
- åˆ·é¢˜
---

## é¢˜ç›®

https://leetcode-cn.com/problems/network-delay-time/

å…³äºŽæœ€çŸ­è·¯å¾„dijkstraç®—æ³•ï¼Œå­¦äº†å¾ˆå¤šéï¼Œæ¯æ¬¡å­¦çš„éƒ½ä¸æ·±ï¼Œæ‰€ä»¥å­¦å®Œå°±å¿˜ï¼Œä»£ç è‚¯å®šæ›´æ˜¯å†™ä¸å‡ºæ¥ã€‚ä»Šå¤©å†å­¦ä¸€æ¬¡ã€‚

## é¢˜è§£

å…³äºŽdijkstraç®—æ³•å…·ä½“å†…å®¹å°±ä¸åœ¨è¿™é‡Œç»†è¯´äº†ï¼Œç½‘ä¸Šä¸€å¤§å †ï¼Œè¿™é‡Œä¸»è¦å…³æ³¨ä»£ç ã€‚

### ä»£ç 

```python
class Solution:
    def networkDelayTime(self, times: List[List[int]], n: int, k: int) -> int:
        g = [[float('inf')]*n for _ in range(n)]
        for x, y, time in times:
            g[x-1][y-1] = time

        dist = [float('inf')] * n
        dist[k-1] = 0
        used = [False] * n
        for _ in range(n):
            x = -1
            for y, u in enumerate(used):
                if not u and (x == -1 or dist[y] < dist[x]):
                    x = y
            used[x] = True
            for y,time in enumerate(g[x]):
                dist[y] = min(dist[y], dist[x]+time)
        ans = max(dist)
        return ans if ans < float('inf') else -1
```

### ä»£ç è¯¦è§£

`g[][]`ï¼šç”¨`é‚»æŽ¥çŸ©é˜µ`æ¥å‚¨å­˜è¿™ä¸ªå›¾ã€‚`g[x][y]`è¡¨ç¤ºä»ŽèŠ‚ç‚¹`x`åˆ°èŠ‚ç‚¹`y`çš„è·ç¦»ã€‚å¦‚æžœä¸èƒ½åˆ°è¾¾ï¼Œå‚¨å­˜è·ç¦»ä¸ºæ— ç©·å¤§ã€‚æ³¨æ„è¿™æ®µä»£ç ä¸­æŠŠæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½-1ï¼Œè¿™åªæ˜¯è¡¨ç¤ºæ–¹å¼çš„é—®é¢˜ï¼Œä¸é‡è¦ã€‚

è¿™æ®µä»£ç å°±æ˜¯åœ¨æž„å»º`g`ï¼š

```python
g = [[float('inf')]*n for _ in range(n)]
for x, y, time in times:
  g[x-1][y-1] = time
```

`dist[]`ï¼š`dist[i]`è¡¨ç¤ºä»Žèµ·ç‚¹`k`åˆ°èŠ‚ç‚¹`i`çš„æœ€çŸ­è·ç¦»ï¼ˆå½“å‰å·²çŸ¥ï¼‰ã€‚èµ‹åˆå€¼ä¸ºæ— ç©·å¤§ã€‚

`used[]`ï¼šè®°å½•ç®—æ³•è¿è¡Œæ—¶ä½¿ç”¨è¿‡çš„èŠ‚ç‚¹ã€‚åˆå€¼æ˜¯æŠŠèµ·å§‹èŠ‚ç‚¹èµ‹å€¼ä¸ºTrueï¼Œå…¶ä½™Falseã€‚

```python
for y, u in enumerate(used):
  if not u and (x == -1 or dist[y] < dist[x]):
    x = y
  used[x] = True
```

ä¸Šé¢è¿™æ®µä»£ç ï¼Œæ¯æ¬¡ä»Žã€Œæœªç¡®å®šèŠ‚ç‚¹ã€ä¸­å–ä¸€ä¸ªä¸Žèµ·ç‚¹è·ç¦»æœ€çŸ­çš„ç‚¹ï¼Œå°†å®ƒå½’ç±»ä¸ºã€Œå·²ç¡®å®šèŠ‚ç‚¹ã€ï¼Œå¹¶ç”¨å®ƒã€Œæ›´æ–°ã€ä»Žèµ·ç‚¹åˆ°å…¶ä»–æ‰€æœ‰ã€Œæœªç¡®å®šèŠ‚ç‚¹ã€çš„è·ç¦»ã€‚ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«å½’ç±»ä¸ºã€Œå·²ç¡®å®šèŠ‚ç‚¹ã€ã€‚`x`å°±æ˜¯è¦æ‰¾çš„é‚£ä¸ªå·²ç¡®å®šèŠ‚ç‚¹ï¼Œç¬¬ä¸€æ¬¡x=kã€‚

```python
for y,time in enumerate(g[x]):
	dist[y] = min(dist[y], dist[x]+time)
```

ç”¨èŠ‚ç‚¹ Aã€Œæ›´æ–°ã€èŠ‚ç‚¹ B çš„æ„æ€æ˜¯ï¼Œç”¨èµ·ç‚¹åˆ°èŠ‚ç‚¹ A çš„æœ€çŸ­è·¯é•¿åº¦åŠ ä¸Šä»ŽèŠ‚ç‚¹ A åˆ°èŠ‚ç‚¹ B çš„è¾¹çš„é•¿åº¦ï¼ŒåŽ»æ¯”è¾ƒèµ·ç‚¹åˆ°èŠ‚ç‚¹ B çš„æœ€çŸ­è·¯é•¿åº¦ï¼Œå¦‚æžœå‰è€…å°äºŽåŽè€…ï¼Œå°±ç”¨å‰è€…æ›´æ–°åŽè€…ã€‚è¿™ç§æ“ä½œä¹Ÿè¢«å«åšã€Œæ¾å¼›ã€ã€‚è¿™é‡ŒèŠ‚ç‚¹Aå°±æ˜¯`x`ï¼ŒèŠ‚ç‚¹Bå°±æ˜¯`y`ã€‚

æœ€åŽæ ¹æ®è¿™é¢˜çš„è¦æ±‚ï¼Œæ‰¾`dist[]`é‡Œæœ€å¤§çš„è¿”å›žå°±è¡Œäº†ã€‚

æ—¶é—´å¤æ‚åº¦ï¼šO(n^2+m)ï¼Œå…¶ä¸­ m æ˜¯æ•°ç»„times çš„é•¿åº¦ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(n^2)ã€‚é‚»æŽ¥çŸ©é˜µéœ€å ç”¨ O(n^2)çš„ç©ºé—´ã€‚

dijkstraç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)



###  ç”¨å°æ ¹å †ä¼˜åŒ–

å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°æ ¹å †æ¥å¯»æ‰¾ã€Œæœªç¡®å®šèŠ‚ç‚¹ã€ä¸­ä¸Žèµ·ç‚¹è·ç¦»æœ€è¿‘çš„ç‚¹ã€‚

è¿™ä¸ªå…·ä½“å°±ä¸ç ”ç©¶äº†ï¼Œèƒ½æŠŠåŸºæœ¬ç®—æ³•æžæ˜Žç™½å°±ä¸é”™äº†ðŸ˜‚ã€‚






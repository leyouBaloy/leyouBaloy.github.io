import{u as k,m as I,d as G,s as F,c as T,v as U,b as S,w as q,n as H,e as D,f as X,r as Y,o as J,p as Q,V as Z,x as ee,y as ne,z as oe}from"./Foot-BziGG_do.js";import{d as M,r as h,x as w,c as O,o as $,w as re,b as V,a as te,h as x,f as ae,g as se,j as N,u as le,i as L,_ as ie}from"./app-ReEko8lC.js";function de(n){return n.replace(/#|\(|\)|,|\s|\./g,"_")}const ce={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}};Object.assign(Object.assign(Object.assign({},k.props),ce),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function});const ue=I("n-tag");function fe(n){const{borderRadius:s,avatarColor:r,cardColor:l,fontSize:i,heightTiny:t,heightSmall:c,heightMedium:z,heightLarge:g,heightHuge:u,modalColor:f,popoverColor:m}=n;return{borderRadius:s,fontSize:i,border:`2px solid ${l}`,heightTiny:t,heightSmall:c,heightMedium:z,heightLarge:g,heightHuge:u,color:F(l,r),colorModal:F(f,r),colorPopover:F(m,r)}}const ve={name:"Avatar",common:G,self:fe},he=I("n-avatar-group"),ge=T("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[U(S("&","--n-merged-color: var(--n-color-modal);")),q(S("&","--n-merged-color: var(--n-color-popover);")),S("img",`
 width: 100%;
 height: 100%;
 `),H("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),T("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),H("text","line-height: 1.25")]),me=Object.assign(Object.assign({},k.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),be=M({name:"Avatar",props:me,slots:Object,setup(n){const{mergedClsPrefixRef:s,inlineThemeDisabled:r}=D(n),l=h(!1);let i=null;const t=h(null),c=h(null),z=()=>{const{value:e}=t;if(e&&(i===null||i!==e.innerHTML)){i=e.innerHTML;const{value:o}=c;if(o){const{offsetWidth:a,offsetHeight:v}=o,{offsetWidth:d,offsetHeight:B}=e,C=.9,P=Math.min(a/d*C,v/B*C,1);e.style.transform=`translateX(-50%) translateY(-50%) scale(${P})`}}},g=w(he,null),u=O(()=>{const{size:e}=n;if(e)return e;const{size:o}=g||{};return o||"medium"}),f=k("Avatar","-avatar",ge,ve,n,s),m=w(ue,null),b=O(()=>{if(g)return!0;const{round:e,circle:o}=n;return e!==void 0||o!==void 0?e||o:m?m.roundRef.value:!1}),p=O(()=>g?!0:n.bordered||!1),_=O(()=>{const e=u.value,o=b.value,a=p.value,{color:v}=n,{self:{borderRadius:d,fontSize:B,color:C,border:P,colorModal:A,colorPopover:W},common:{cubicBezierEaseInOut:K}}=f.value;let R;return typeof e=="number"?R=`${e}px`:R=f.value.self[Q("height",e)],{"--n-font-size":B,"--n-border":a?P:"none","--n-border-radius":o?"50%":d,"--n-color":v||C,"--n-color-modal":v||A,"--n-color-popover":v||W,"--n-bezier":K,"--n-merged-size":`var(--n-avatar-size-override, ${R})`}}),y=r?X("avatar",O(()=>{const e=u.value,o=b.value,a=p.value,{color:v}=n;let d="";return e&&(typeof e=="number"?d+=`a${e}`:d+=e[0]),o&&(d+="b"),a&&(d+="c"),v&&(d+=de(v)),d}),_,n):void 0,j=h(!n.lazy);$(()=>{if(n.lazy&&n.intersectionObserverOptions){let e;const o=re(()=>{e==null||e(),e=void 0,n.lazy&&(e=ne(c.value,n.intersectionObserverOptions,j))});V(()=>{o(),e==null||e()})}}),te(()=>{var e;return n.src||((e=n.imgProps)===null||e===void 0?void 0:e.src)},()=>{l.value=!1});const E=h(!n.lazy);return{textRef:t,selfRef:c,mergedRoundRef:b,mergedClsPrefix:s,fitTextTransform:z,cssVars:r?void 0:_,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender,hasLoadError:l,shouldStartLoading:j,loaded:E,mergedOnError:e=>{if(!j.value)return;l.value=!0;const{onError:o,imgProps:{onError:a}={}}=n;o==null||o(e),a==null||a(e)},mergedOnLoad:e=>{const{onLoad:o,imgProps:{onLoad:a}={}}=n;o==null||o(e),a==null||a(e),E.value=!0}}},render(){var n,s;const{$slots:r,src:l,mergedClsPrefix:i,lazy:t,onRender:c,loaded:z,hasLoadError:g,imgProps:u={}}=this;c==null||c();let f;const m=!z&&!g&&(this.renderPlaceholder?this.renderPlaceholder():(s=(n=this.$slots).placeholder)===null||s===void 0?void 0:s.call(n));return this.hasLoadError?f=this.renderFallback?this.renderFallback():Y(r.fallback,()=>[x("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):f=J(r.default,b=>{if(b)return x(Z,{onResize:this.fitTextTransform},{default:()=>x("span",{ref:"textRef",class:`${i}-avatar__text`},b)});if(l||u.src){const p=this.src||u.src;return x("img",Object.assign(Object.assign({},u),{loading:ee&&!this.intersectionObserverOptions&&t?"lazy":"eager",src:t&&this.intersectionObserverOptions?this.shouldStartLoading?p:void 0:p,"data-image-src":p,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[u.style||"",{objectFit:this.objectFit},m?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),x("span",{ref:"selfRef",class:[`${i}-avatar`,this.themeClass],style:this.cssVars},f,t&&m)}}),pe={class:"bg"},ye=M({__name:"PageHead",setup(n){const s=h(!1);h(null);const r=h(null),l=new IntersectionObserver(([i])=>{i.intersectionRatio===0?s.value=!0:s.value=!1},{threshold:[0,1]});return $(()=>{r.value&&l.observe(r.value)}),V(()=>{r.value&&l.unobserve(r.value)}),(i,t)=>(ae(),se("div",pe,[N(le(be),{round:!0,size:100,src:"https://myblog-1257298572.cos.ap-shanghai.myqcloud.com/avatar.jpg",bordered:!0}),t[0]||(t[0]=L("span",{class:"name"},"Bailey",-1)),t[1]||(t[1]=L("span",{class:"zym"},"读万卷书，行万里路",-1)),L("div",{ref_key:"navPlaceholder",ref:r,class:"nav-placeholder"},null,512),N(oe,{expandNav:s.value},null,8,["expandNav"])]))}}),xe=ie(ye,[["__scopeId","data-v-9a498d9c"]]);export{xe as P};
